<tabset>
    <tab heading="Geo Search">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Customized GeoSearch</h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Address List
                    </div>
                    <div class="panel-body">
                        <table class="table table-hover">
                            <thead>
                            <tr>
                                <th>Entity Name</th>
                                <th>Address</th>
                                <th ng-show="geoResultsBool">Latitude</th>
                                <th ng-show="geoResultsBool">Longitude</th>
                                <th>Action</th>
                            </tr>
                            </thead>
                            <tr ng-repeat="address in addresses">
                                <td>{{address.name}}</td>
                                <td>{{address.address}}</td>
                                <td ng-show="geoResultsBool">{{address.lat}}</td>
                                <td ng-show="geoResultsBool">{{address.lng}}</td>
                                <td><a class="btn btn-default btn-circle" ng-click="editOrCreateAddress(address)" ng-show="!geoResultsBool"><i class="fa fa-pencil"></i></a>
                                    <a class="btn btn-default btn-circle" ng-click="deleteAddress(address)" ng-show="!geoResultsBool"><i class="fa fa-minus"></i></a>
                                    <a class="btn btn-default btn-circle" ng-click="centerMap(address)" ng-show="geoResultsBool"><i class="fa fa-location-arrow"></i></a>
                                </td>
                            </tr>
                        </table>
                        <a ng-click="editOrCreateAddress()" class="btn btn-default btn-circle"><i class="fa fa-plus"></i></a>
                        <a ng-click="uploadAddress()" class="btn btn-default btn-circle"><i class="fa fa-upload"></i></a>
                        <a ng-show="geoResultsBool" ng-csv="addresses" filename="addresses.csv" csv-header="['ID', 'Entity Name', 'Address', 'Latitude', 'Longitude' ]" class="btn btn-default btn-circle"><i class="fa fa-download"></i></a>
                        <ng-csv-import
                                class="import"
                                content="csv.content"
                                header="csv.header"
                                header-visible="csv.headerVisible"
                                separator="csv.separator"
                                separator-visible="csv.separatorVisible"
                                result="csv.result"
                                encoding="csv.encoding"
                                encoding-visible="csv.encodingVisible">
                        </ng-csv-import>
                    </div>
                </div>
            </div>
            <div class="col-lg-4" ng-show="addAddressBool">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <form class="form-horizontal" role="form" ng-submit="saveAddressEdit(currentAddress)">
                            <div class="form-group">
                                <label for="name" class="col-sm-2 control-label">Entity name</label>
                                <div class="col-sm-10">
                                    <input type="text" ng-model="currentAddress.name" class="form-control" id="title" placeholder="Entity name here"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="client" class="col-sm-2 control-label">Address</label>
                                <div class="col-sm-10">
                                    <input type="text" ng-model="currentAddress.address" class="form-control" id="client" placeholder="Address here"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <input type="submit" class="btn btn-primary" value="Save"/>
                                    <a class="btn btn-primary btn-danger" ng-click="cancelAddressEdit()">Cancel</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" ng-show="progressBool && calculateProgressAddress(addresses)<1">
            <div class="col-md-12">
                <progressbar animate="false" value="calculateProgressAddress(addresses)" type="success" max="1"><b>{{calculateProgressAddress(addresses)*100|number:0}}%</b></progressbar>
            </div>
        </div>



        <div class="row" >
            <div class="col-lg-2">
                <a class="btn btn-danger btn-lg" href="/#/projects">Back to Projects</a>
            </div>
            <div class="col-lg-offset-8 col-lg-2">
                <a class="btn-lg btn-primary" ng-click="batchGeoSearch()">Geo Searches</a>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Google Map
                    </div>
                    <div class="panel-body">
                        <ui-gmap-google-map center='mapData.map.center' zoom='mapData.map.zoom'>
                            <ui-gmap-marker ng-repeat="m in mapData.markers" coords="m" idKey="m.id">
                            </ui-gmap-marker>
                        </ui-gmap-google-map>
                    </div>
                </div>
            </div>
        </div>
    </tab>
    <tab heading="Google Search">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Customized Search</h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="row" ng-show="!showSearchListBool">
            <div class="col-lg-3">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Search Types
                    </div>
                    <div class="panel-body">
                        <select multiple class="form-control" size = "10" ng-multiple="true" ng-model="gsearchOptions.selectedSearchNames" ng-options="c.name for c in availableSearchNames">
                        </select>
                        <a ng-click="addSearchName()" class="btn btn-default btn-circle"><i class="fa fa-plus"></i></a>
                        <a ng-click="deleteSearchNames(gsearchOptions.selectedSearchNames)" class="btn btn-default btn-circle"><i class="fa fa-minus"></i></a>
                        <form class="form-horizontal" role="form" ng-submit="saveEditSearchName(newSearchName)" ng-show="editSearchNameBool">
                            <input type="text" ng-model="newSearchName.name" class="form-control" placeholder="new search name"/>
                            <input type="submit" class="btn btn-primary" value="Save"/>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Search String
                    </div>
                    <div class="panel-body">
                        <textarea class="form-control" ng-model="gsearchOptions.selectedSearchNames[0].string" rows="10"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Company List
                    </div>
                    <div class="panel-body">
                        <select multiple class="form-control" size = "10" ng-multiple="true" ng-model="gsearchOptions.selectedCompanyNames" ng-options="c.name for c in companyNames">
                        </select>
                        <a ng-click="addCompany()" class="btn btn-default btn-circle"><i class="fa fa-plus"></i></a>
                        <a ng-click="deleteCompanies(gsearchOptions.selectedCompanyNames)" class="btn btn-default btn-circle"><i class="fa fa-minus"></i></a>
                        <form class="form-horizontal" role="form" ng-submit="saveEditCompany(newCompany)" ng-show="editCompanyBool">
                            <input type="text" ng-model="newCompany.name" class="form-control" placeholder="new company name"/>
                            <input type="submit" class="btn btn-primary" value="Save"/>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Company Name Variations
                    </div>
                    <div class="panel-body">
                        <select multiple class="form-control" size = "10" ng-multiple="true" ng-model="gsearchOptions.selectedVariations" ng-options="c for c in gsearchOptions.selectedCompanyNames[0].variations">
                        </select>
                        <a ng-click="addVariation()" class="btn btn-default btn-circle"><i class="fa fa-plus"></i></a>
                        <a ng-click="deleteVariations(gsearchOptions.selectedVariations)" class="btn btn-default btn-circle"><i class="fa fa-minus"></i></a>
                        <form class="form-horizontal" role="form" ng-submit="saveEditVariation(newVariation)" ng-show="editVariationBool">
                            <input type="text" ng-model="newVariation.name" class="form-control" placeholder="new variation"/>
                            <input type="submit" class="btn btn-primary" value="Save"/>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" ng-show="showSearchListBool && !boolGdocs">
            <div class="col-md-12" >
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>Search Name</th>
                        <th>Search Company</th>
                        <th>Search String</th>
                        <!--<th>Created At</th>-->
                        <!--<th>ID</th>-->
                        <th>Search?</th>
                    </tr>
                    </thead>
                    <tr ng-repeat="search in newSearches">
                        <td>{{search.searchName}}</td>
                        <td>{{search.companyName}}</td>
                        <td>{{search.string}}</td>
                        <!--<td>{{search.createdAt}}</td>-->
                        <!--<td>{{search.id}}</td>-->
                        <td>
                            <input type="checkbox" ng-model="search.use">
                            <!--<a class="btn-sm btn-primary" ng-click="editOrCreateSearch(search)">Edit</a>-->
                            <!--<a class="btn-sm btn-danger" ng-click="deleteSearch(search)">Delete</a>-->
                        </td>
                    </tr>
                </table>
            </div>
            <div class="row" ng-show="showSearchListBool">
                <div class="col-lg-2">
                    <a class="btn btn-danger btn-lg" ng-click="cancelGenearateSearch()">Cancel</a>
                </div>
                <div class="col-lg-offset-8 col-lg-2">
                    <a class="btn-lg btn-primary" ng-click="batchSearch(newSearches)">Google them!</a>
                </div>
            </div>
        </div>
        <div class="row" ng-show="!showSearchListBool">
            <div class="col-lg-2">
                <a class="btn btn-danger btn-lg" href="/#/projects">Back to Projects</a>
            </div>
            <div class="col-lg-offset-8 col-lg-2">
                <a class="btn-lg btn-primary" ng-click="generateSearches()">Generate Searches</a>
            </div>
        </div>
        <div class="row" ng-show="progressBool && calculateProgress(searchedStrings, newSearches)<1">
            <div class="col-md-12">
                <progressbar animate="false" value="calculateProgress(searchedStrings, newSearches)*100" type="success" max="100"><b>{{calculateProgress(searchedStrings, newSearches)*100|number:0}}%</b></progressbar>
            </div>
        </div>
        <div class="row" ng-show="boolGdocs && gdocs.length>0">
            <form>
                <label for="predicate">Items per page:</label>
                <input class="input-sm form-control" name="items" id="items" type="number" ng-model="itemsByPage">
            </form>
            <table st-table="displayedGdocs" st-safe-src="gdocs" class="table table-striped">
                <thead>
                <tr>
                    <th st-sort="title">Title</th>
                    <!--<th>Created At</th>-->
                    <!--<th>ID</th>-->
                    <th st-sort="snippet">Snippet</th>
                    <th st-sort="link">Link</th>
                    <th>Action</th>
                </tr>
                <tr>
                    <th>
                        <input st-search="title" placeholder="search for title" class="input-sm form-control" type="search"/>
                    </th>
                    <th>
                        <input st-search="snippet" placeholder="search for snippet" class="input-sm form-control" type="search"/>
                    </th>
                    <th>
                        <input st-search="link" placeholder="search for link" class="input-sm form-control" type="search"/>
                    </th>
                    <th>
                        <input st-search placeholder="global search" class="input-sm form-control" type="search"/>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="gdoc in displayedGdocs">
                    <td ng-show="textsToShow.indexOf(gdoc.id)<0">{{gdoc.title}}</td>
                    <td ng-show="textsToShow.indexOf(gdoc.id)<0">{{gdoc.snippet}}</td>
                    <td ng-show="textsToShow.indexOf(gdoc.id)<0"><a href="{{gdoc.url}}">{{gdoc.url}}</a></td>
                    <td colspan="3" ng-show="textsToShow.indexOf(gdoc.id)>=0">{{gdoc.text}}</td>
                    <td><a class="btn-sm btn-primary" ng-click="showText(gdoc)">Show/Hide</a><a class="btn-sm btn-danger" ng-click="deleteGdoc(gdoc)">Delete</a></td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="5" class="text-center">
                        <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div>
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>
    </tab>

</tabset>




